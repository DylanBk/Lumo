@import "tailwindcss";

:root {
  --background: #f0f0f0;

  --surface: #ffffff;
  --surface-muted: #f3f4f6;

  --text-primary: #111827;
  --text-secondary: #4b5563;
  --text-muted: #6b7280;

  --brand: #f97316;
  --brand-hover: #ea580c;
  --brand-accent: #fb923c;

  --accent: #38bdf8;
  --accent-hover: #0ea5e9;

  --border: #e5e7eb;
  --border-strong: #d1d5db;

  --success: #22c55e;
  --warning: #facc15;
  --error: #ef4444;

  --shadow-soft: 0 1px 4px rgba(0, 0, 0, 0.05);
  --shadow-medium: 0 2px 8px rgba(0, 0, 0, 0.08);

  &[data-contrast="true"] {
    --background: #ffffff;
    --surface: #fefefe;
    --surface-muted: #f3f3f3;
    --text-primary: #000000;
    --text-secondary: #2c2c2c;
    --text-muted: #4a4a4a;
    --border: #c1c1c1;
    --border-strong: #8e8e8e;
  }
}

[data-theme="dark"] {
  --background: #0f172a;

  --surface: #1e293b;
  --surface-muted: #334155;

  --text-primary: #f8fafc;
  --text-secondary: #cbd5e1;
  --text-muted: #94a3b8;

  --brand: #fb923c;
  --brand-hover: #f97316;
  --brand-accent: #fdba74;

  --accent: #38bdf8;
  --accent-hover: #0ea5e9;

  --border: #334155;
  --border-strong: #475569;

  --success: #22c55e;
  --warning: #facc15;
  --error: #ef4444;

  --shadow-soft: 0 1px 4px rgba(0, 0, 0, 0.25);
  --shadow-medium: 0 2px 8px rgba(0, 0, 0, 0.35);

  &[data-contrast="true"] {
    --background: #000000;
    --surface: #121212;
    --surface-muted: #1e1e1e;
    --text-primary: #ffffff;
    --text-secondary: #d4d4d4;
    --text-muted: #a3a3a3;
    --border: #3f3f3f;
    --border-strong: #5a5a5a;
  }
}


@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-surface: var(--surface);
  --color-surface-muted: var(--surface-muted);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-brand: var(--brand);
  --color-accent: var(--accent);
  --color-border: var(--border);
  --color-error: var(--error);
  --color-warning: var(--warning);
  --color-success: var(--success);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}


@layer base {
  html, body {
    background: var(--background);
    color: var(--text-primary);
    font-family: 'Geist', sans-serif;
    overflow-x: hidden;
  }

  main {
    padding: 1rem;
  }

  hr {
    color: var(--border);
  }

  h1 {
    font-size: 2.5rem;
  }
  h2 {
    font-size: 2rem;
  }
  h3 {
    font-size: 1.75rem;
  }
  h4 {
    font-size: 1.5rem;
  }
  h5 {
    font-size: 1.25rem;
  }
  h6 {
    font-size: 1rem;
  }

  p {
    color: var(--text-secondary);

    &.error {
      color: var(--error);
    }
  }

  a {
    transition: 0.2s all;
    cursor: pointer;

    &:hover {
      color: var(--brand)
    }
    
    &:has(svg.icon) {
      &:hover {
        color: var(--brand);
        transform: scale(1.05);
      }
    }
  }

  button {
    height: fit-content;
    width: fit-content;
    display: flex;
    padding: 0.5rem 0.75rem;
    border-radius: 3px;
    transition: 0.3s all;
    cursor: pointer;
    user-select: none;

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    &:has(svg) {
      height: 2.5rem;
      width: 2.5rem;
      align-items: center;
    }

    &:has(svg.icon) {
      &:hover:not(:disabled) {
        color: var(--brand);
        transform: scale(1.05);
      }

      &:focus {
        outline: 2px solid var(--brand);
        outline-offset: 2px;
      }
    }

    &.primary {
      background: var(--brand);
      color: white;

      &:hover,
      &:focus,
      &:active {
        background: var(--brand-hover);
      }
    }

    &.secondary {
      background: var(--accent);
      color: white;

      &:hover,
      &:focus,
      &:active {
        background: var(--accent-hover);
      }
    }

    &.danger {
      background: var(--error);
      color: white;

      &:hover,
      &:focus,
      &:active {
        background: #dc2626;
      }
    }
  }

  img, svg {
    user-select: none;
  }
  svg.icon {
    transition: all 0.3s;

    &:hover {
      transform: scale(1.05);
    }
  }

  div:has(label + input),
  div:has(label + textarea) {
    display: flex;
    flex-direction: column;
    gap: 0;

    label {
      color: var(--text-primary);
      font-size: 0.75rem;
    }

    input, textarea {
      padding: 0.25rem;
      border: 2px solid var(--border);
      border-radius: 6px;
      background: var(--surface);
      color: var(--text-secondary);
      outline: none;

      &:-webkit-autofill {
        -webkit-box-shadow:0 0 0 50px var(--surface) inset; /* Change the color to your own background color */
        -webkit-text-fill-color: var(--text-secondary);

        &:focus {
          -webkit-box-shadow:0 0 0 50px var(--surface-muted) inset;
          -webkit-text-fill-color: var(--text-primary);
        }
      }

      &:focus {
        background: var(--surface-muted);
        color: var(--text-primary);
        border-color: var(--brand);
      }

      &:required:invalid:not(:placeholder-shown):not(:focus) {
        border: 2px solid var(--error);
      }
    }
  }

  form {
    &.auth {
      @apply w-[calc(100vw-2rem)] sm:w-3/4 md:w-1/2 xl:w-1/3;
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      padding: 1rem;
      border-radius: 6px;
      background: var(--surface);
      box-shadow: var(--shadow-medium);

      h2 {
        text-align: center;
      }

      button {
        margin: 0.5rem auto 0 auto;
      }

      p {
        text-align: center;
        font-size: small;
      }

      a {
        text-decoration: underline;

        &:hover {
          color: var(--brand-hover);
        }
      }
    }
  }
}

@layer utilities {
  .brand-gradient {
    background: linear-gradient(90deg, var(--brand), var(--brand-accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-fill-color: transparent;
  }

  .modal {
    position: fixed;
    left: 0;
    top: 0;
    height: 100vh;
    width: 100vw;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 50;

    .modal-content {
      max-height: 90vh;
      min-width: 300px;
      max-width: 90vw;
      position: relative;
      padding: 1rem;
      border-radius: 6px;
      background: var(--surface);
      box-shadow: var(--shadow-medium);
      /* overflow-y: auto; */

      .modal-close {
        position: absolute;
        top: -1rem;
        right: -1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;

        svg {
          height: 1.5rem;
        }
      }

      form {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
    }
  }

  .toggle-container {
    height: 2rem;
    width: 4rem;
    display: flex;
    justify-content: start;
    align-items: center;
    padding: 4px;
    border-radius: calc(infinity * 1px);
    background: var(--border);
    transition: all 0.3s;
    cursor: pointer;

    &[aria-pressed='true'] {
      justify-content: end;
      background: var(--brand);

      .toggler {
        background: white !important;
        color: var(--brand);
      }
    }

    .toggler {
      height: 1.5rem;
      width: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 100%;
      background: var(--brand);
      color: white;
      z-index: 1;
    }
  }
}